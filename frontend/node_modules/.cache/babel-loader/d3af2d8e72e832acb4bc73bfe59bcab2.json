{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/arham/Desktop/ecommerce-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/arham/Desktop/ecommerce-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Row,Col,Card,Button,Image,ListGroup,Form}from'react-bootstrap';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Rating from'../components/Rating';import Loader from'../components/Loader';import Message from'../components/Message';import products from'../products';import{withRouter}from\"react-router\";import{listProductDetails}from'../actions/productActions';var ProductScreen=function ProductScreen(_ref){var match=_ref.match,history=_ref.history;var dispatch=useDispatch();var productDetailList=useSelector(function(state){return state.productDetailList;});var error=productDetailList.error,loading=productDetailList.loading,product=productDetailList.product;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];useEffect(function(){dispatch(listProductDetails(match.params.id));},[dispatch,match]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};// const product=products.find)(p=>p._id==match.params.id)\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-3\",to:\"/\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{text:\"\".concat(product.numReviews,\" reviews\"),value:product.rating})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: $\",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description: $\",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"strong\",{children:product.countInStock>0?'In Stock':'Out of Stock'})})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Qty:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(e){return/*#__PURE__*/_jsx(\"option\",{value:e+1,children:e+1},e+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCartHandler,className:\"btn-block\",type:\"button\",disabled:product.countInStock==0,children:\"Add to Cart\"})})]})})})]})]});};export default withRouter(ProductScreen);","map":{"version":3,"sources":["/home/arham/Desktop/ecommerce-app/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","Row","Col","Card","Button","Image","ListGroup","Form","Link","useDispatch","useSelector","Rating","Loader","Message","products","withRouter","listProductDetails","ProductScreen","match","history","dispatch","productDetailList","state","error","loading","product","qty","setQty","params","id","addToCartHandler","push","image","name","numReviews","rating","price","description","countInStock","e","target","value","Array","keys","map"],"mappings":"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","sourcesContent":["import React,{useEffect, useState} from 'react'\nimport { Row, Col, Card, Button, Image,ListGroup, Form} from 'react-bootstrap'\nimport { Link} from 'react-router-dom'\nimport { useDispatch,useSelector} from 'react-redux'\nimport Rating from '../components/Rating'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport products from '../products'\nimport { withRouter } from \"react-router\";\nimport {listProductDetails} from '../actions/productActions'\n\nconst ProductScreen = ({match, history}) => {\n    const dispatch=useDispatch()\n\n    const productDetailList=useSelector(state=>state.productDetailList)\n    const {error,loading,product}=productDetailList\n\n    const [qty, setQty]=useState(1)\n\n    useEffect(()=>{\n        dispatch(listProductDetails(match.params.id))\n     },[dispatch,match]) \n\n     const addToCartHandler=()=>{\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\n     }\n    // const product=products.find)(p=>p._id==match.params.id)\n    return (\n        <>\n            <Link className='btn btn-light my-3' to='/'>\n                Go Back\n        </Link>\n        {loading?<Loader/>:error?<Message variant='danger'>{error}</Message>:\n        <Row>\n            <Col md={6}>\n                <Image src={product.image} alt={product.name} fluid/>\n            </Col>\n            <Col md={3}>\n                <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                        <h3>{product.name}</h3>\n                </ListGroup.Item>\n                    <ListGroup.Item>\n                        <Rating\n                        text={`${product.numReviews} reviews`}\n                        value={product.rating}\n                        ></Rating>\n                </ListGroup.Item>\n                    <ListGroup.Item>\n                        Price: ${product.price}\n                </ListGroup.Item>\n                    <ListGroup.Item>\n                        Description: ${product.description}\n                </ListGroup.Item>\n                </ListGroup>\n            </Col>\n            <Col md={3}>\n                <Card>\n                <ListGroup variant='flush'>\n                <ListGroup.Item>\n                        <Row>\n                            <Col>\n                                Price:\n                            </Col>\n                            <Col>\n                                <strong>${product.price}</strong>\n                            </Col>\n                        </Row>\n                </ListGroup.Item>\n                <ListGroup.Item>\n                        <Row>\n                            <Col>\n                                Status:\n                            </Col>\n                            <Col>\n                                <strong>{product.countInStock>0?'In Stock':'Out of Stock'}</strong>\n                            </Col>\n                        </Row>\n                </ListGroup.Item>\n                {\n                    product.countInStock>0 && (\n                        <ListGroup.Item>\n                        <Row>\n                            <Col>\n                                Qty:\n                            </Col>\n                            <Col>\n                                <Form.Control as='select' value={qty} onChange={e=>{\n                                    setQty(e.target.value)\n                                }}>\n                                    {[...Array(product.countInStock).keys()].map(e=>\n                                    (\n                                       <option key={e+1} value={e+1}>\n                                           {e+1}\n                                       </option> \n                                    )\n                                    )}\n                                </Form.Control>\n                            </Col>\n                        </Row>\n                </ListGroup.Item>\n                    )\n                }\n                <ListGroup.Item>\n                        <Button onClick={addToCartHandler} className='btn-block' type='button' disabled={product.countInStock==0}>\n                            Add to Cart\n                        </Button>\n                </ListGroup.Item>   \n                </ListGroup>\n                </Card>\n            </Col>\n        </Row>\n}\n        </>\n    )\n}\n\nexport default withRouter(ProductScreen)\n"]},"metadata":{},"sourceType":"module"}