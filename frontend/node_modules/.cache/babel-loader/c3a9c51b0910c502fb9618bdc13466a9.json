{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{Row,Col,ListGroup,Image,Card,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{saveShippingAddress}from'../actions/cartAction';import Message from'../components/Message';import{Link}from'react-router-dom';import Loader from'../components/Loader';import{getOrderDetails}from'../actions/orderActions';var OrderScreen=function OrderScreen(_ref){var match=_ref.match;var orderId=match.params.id;var dispatch=useDispatch();var orderDetails=useSelector(function(state){return state.orderDetails;});var order=orderDetails.order,loading=orderDetails.loading,error=orderDetails.error;if(!loading){// Calculate Prices\nvar addDecimals=function addDecimals(num){return(Math.round(num*100)/100).toFixed(2);};order.itemsPrice=addDecimals(order.orderItems.reduce(function(acc,item){return acc+item.price*item.qty;},0));}useEffect(function(){dispatch(getOrderDetails());},[]);return loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Order \",order._id]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shipping\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name: \"}),order.user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email: \"}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(order.user.email),children:order.user.email})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),order.shippingAddress.address,\",\",order.shippingAddress.city,\",\",order.shippingAddress.postalCode,\",\",order.shippingAddress.country]}),order.isDelivered?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Delivered On \",order.deliveredAt]}):/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\"Not Delivered \",order.deliveredAt]})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Method:\"}),order.paymentMethod]}),order.isPaid?/*#__PURE__*/_jsxs(Message,{variant:\"success\",children:[\"Paid On \",order.paidAt]}):/*#__PURE__*/_jsxs(Message,{variant:\"danger\",children:[\"Not Paid \",order.paidAt]})]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Items\"}),order.orderItems.length===0?/*#__PURE__*/_jsx(Message,{children:\"Order is empty\"}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:order.orderItems.map(function(item,index){/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(Image,{src:item.image,fluid:true,rounded:true,alt:item.name})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:4,children:[item.qty,\" x $\",item.price,\" = \",item.qty*item.price]})]})},index);})})]})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Order Summary\"})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Items\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.itemsPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Shipping\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.shippingPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Tax\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.taxPrice]})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Total\"}),/*#__PURE__*/_jsxs(Col,{children:[\"$\",order.totalPrice]})]})})]})})})]})]});};export default OrderScreen;","map":{"version":3,"sources":["/home/arham/Desktop/ecommerce-app/frontend/src/screens/OrderScreens.js"],"names":["React","useEffect","Row","Col","ListGroup","Image","Card","Button","useDispatch","useSelector","saveShippingAddress","Message","Link","Loader","getOrderDetails","OrderScreen","match","orderId","params","id","dispatch","orderDetails","state","order","loading","error","addDecimals","num","Math","round","toFixed","itemsPrice","orderItems","reduce","acc","item","price","qty","_id","user","name","email","shippingAddress","address","city","postalCode","country","isDelivered","deliveredAt","paymentMethod","isPaid","paidAt","length","map","index","image","product","shippingPrice","taxPrice","totalPrice"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react'\nimport {Row, Col, ListGroup, Image,Card,Button} from 'react-bootstrap'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {saveShippingAddress} from '../actions/cartAction'\nimport Message from '../components/Message'\nimport {Link} from 'react-router-dom'\nimport Loader from '../components/Loader'\nimport {getOrderDetails} from '../actions/orderActions'\n\nconst OrderScreen = ({match}) => {\n    const orderId=match.params.id\n    const dispatch=useDispatch()\n    const orderDetails=useSelector(state=>state.orderDetails)\n    const {order, loading, error}=orderDetails\n\n    if(!loading){\n        // Calculate Prices\n        const addDecimals=(num)=>{\n            return(Math.round(num*100)/100).toFixed(2)\n        }\n        order.itemsPrice=addDecimals(order.orderItems.reduce((acc,item)=>acc+item.price*item.qty,0))\n    }\n\n    useEffect(()=>{\n        dispatch(getOrderDetails())\n    },[])\n\n\n    return (\n        loading?<Loader/>:error ? <Message variant='danger'>{error}</Message>:\n       <>\n       <h1>Order {order._id}</h1>\n       <Row>\n                <Col md={8}>\n                <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                        <h2>Shipping</h2>\n                        <p><strong>Name: </strong>{order.user.name}</p>\n                        <p><strong>Email: </strong><a href={`mailto:${order.user.email}`}>{order.user.email}</a></p>\n                        <p>\n                            <strong>Address:</strong>\n                            {order.shippingAddress.address},{order.shippingAddress.city},{order.shippingAddress.postalCode},{order.shippingAddress.country}\n                        </p>\n                        {order.isDelivered?<Message variant='success'>Delivered On {order.deliveredAt}</Message>:\n                        <Message variant='danger'>Not Delivered {order.deliveredAt}</Message>}\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        <h2>Payment Method</h2>\n                        <p>\n                            <strong>Method:</strong>\n                            {order.paymentMethod}\n                        </p>\n                        {order.isPaid?<Message variant='success'>Paid On {order.paidAt}</Message>:\n                        <Message variant='danger'>Not Paid {order.paidAt}</Message>}\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        <h2>Order Items</h2>\n                            {order.orderItems.length === 0?\n                                <Message>Order is empty</Message>\n                                :\n                                (\n                                    <ListGroup variant='flush'>\n                                        {order.orderItems.map((item,index)=>{\n                                            <ListGroup.Item key={index}>\n                                                <Row>\n                                                    <Col md={1}>\n                                                        <Image src={item.image} fluid rounded alt={item.name}></Image>\n                                                    </Col>\n                                                    <Col>\n                                                        <Link to={`/product/${item.product}`}>\n                                                            {item.name}\n                                                        </Link>\n                                                    </Col>\n                                                    <Col md={4}>\n                                                        {item.qty} x ${item.price} = {item.qty * item.price}\n                                                    </Col>\n                                                </Row>\n                                            </ListGroup.Item>\n                                        })}\n                                    </ListGroup>\n                                )\n                                }\n                    </ListGroup.Item>\n                </ListGroup>\n                </Col>\n                <Col md={4}>\n                    <Card>\n                        <ListGroup variant='flush'>\n                            <ListGroup.Item>\n                                <h2>Order Summary</h2>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Items</Col>\n                                    <Col>${order.itemsPrice}</Col>\n                                </Row>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Shipping</Col>\n                                    <Col>${order.shippingPrice}</Col>\n                                </Row>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Tax</Col>\n                                    <Col>${order.taxPrice}</Col>\n                                </Row>\n                            </ListGroup.Item>\n                            <ListGroup.Item>\n                                <Row>\n                                    <Col>Total</Col>\n                                    <Col>${order.totalPrice}</Col>\n                                </Row>\n                            </ListGroup.Item>\n                        \n                        </ListGroup>\n                    </Card>\n                </Col>\n            </Row>\n       </>\n    )\n}\n\nexport default OrderScreen\n"]},"metadata":{},"sourceType":"module"}