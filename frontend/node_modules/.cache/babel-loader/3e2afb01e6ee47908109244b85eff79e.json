{"ast":null,"code":"import _regeneratorRuntime from\"/home/arham/Desktop/ecommerce-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/arham/Desktop/ecommerce-app/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import*as actions from'../constants/orderConstants';export var createOrder=function createOrder(order){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _getState,userInfo,config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:actions.ORDER_CREATE_REQUEST});_getState=getState(),userInfo=_getState.userLogin.userInfo;config={headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};_context.next=6;return axios.post(\"/api/orders\",order,config);case 6:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:actions.ORDER_CREATE_SUCCESS,payload:data});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);dispatch({type:actions.ORDER_CREATE_FAIL,payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var getOrderDetails=function getOrderDetails(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var _getState2,userInfo,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:actions.ORDER_DETAILS_REQUEST});_getState2=getState(),userInfo=_getState2.userLogin.userInfo;config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};_context2.next=6;return axios.get(\"/api/orders/\".concat(id),config);case 6:_yield$axios$get=_context2.sent;data=_yield$axios$get.data;dispatch({type:actions.ORDER_DETAILS_SUCCESS,payload:data});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:actions.ORDER_DETAILS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/arham/Desktop/ecommerce-app/frontend/src/actions/orderActions.js"],"names":["axios","actions","createOrder","order","dispatch","getState","type","ORDER_CREATE_REQUEST","userInfo","userLogin","config","headers","Authorization","token","post","data","ORDER_CREATE_SUCCESS","payload","ORDER_CREATE_FAIL","response","message","getOrderDetails","id","ORDER_DETAILS_REQUEST","get","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL"],"mappings":"+TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,6BAAzB,CAEA,MAAO,IAAMC,CAAAA,WAAW,CAAC,QAAZA,CAAAA,WAAY,CAACC,KAAD,iGAAS,iBAAOC,QAAP,CAAgBC,QAAhB,uLAE1BD,QAAQ,CAAC,CACLE,IAAI,CAACL,OAAO,CAACM,oBADR,CAAD,CAAR,CAF0B,UAKGF,QAAQ,EALX,CAKRG,QALQ,WAKnBC,SALmB,CAKRD,QALQ,CAMpBE,MANoB,CAMb,CACTC,OAAO,CAAC,CACJ,eAAe,kBADX,CAEJC,aAAa,kBAAWJ,QAAQ,CAACK,KAApB,CAFT,CADC,CANa,uBAYPb,CAAAA,KAAK,CAACc,IAAN,eAAyBX,KAAzB,CAA+BO,MAA/B,CAZO,wCAYnBK,IAZmB,mBAYnBA,IAZmB,CAa1BX,QAAQ,CAAC,CACLE,IAAI,CAACL,OAAO,CAACe,oBADR,CAELC,OAAO,CAACF,IAFH,CAAD,CAAR,CAb0B,iFAkB1BX,QAAQ,CAAC,CACLE,IAAI,CAACL,OAAO,CAACiB,iBADR,CAELD,OAAO,CAAC,YAAIE,QAAJ,EAAgB,YAAIA,QAAJ,CAAaJ,IAAb,CAAkBK,OAAlC,CAA4C,YAAID,QAAJ,CAAaJ,IAAb,CAAkBK,OAA9D,CAAsE,YAAIA,OAF7E,CAAD,CAAR,CAlB0B,qEAAT,oEAAlB,CAwBP,MAAO,IAAMC,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,CAACC,EAAD,kGAAM,kBAAOlB,QAAP,CAAgBC,QAAhB,4LAE3BD,QAAQ,CAAC,CACLE,IAAI,CAACL,OAAO,CAACsB,qBADR,CAAD,CAAR,CAF2B,WAKElB,QAAQ,EALV,CAKTG,QALS,YAKpBC,SALoB,CAKTD,QALS,CAMrBE,MANqB,CAMd,CACTC,OAAO,CAAC,CACJC,aAAa,kBAAWJ,QAAQ,CAACK,KAApB,CADT,CADC,CANc,wBAWRb,CAAAA,KAAK,CAACwB,GAAN,uBAAyBF,EAAzB,EAA8BZ,MAA9B,CAXQ,wCAWpBK,IAXoB,kBAWpBA,IAXoB,CAY3BX,QAAQ,CAAC,CACLE,IAAI,CAACL,OAAO,CAACwB,qBADR,CAELR,OAAO,CAACF,IAFH,CAAD,CAAR,CAZ2B,qFAiB3BX,QAAQ,CAAC,CACLE,IAAI,CAACL,OAAO,CAACyB,kBADR,CAELT,OAAO,CAAC,aAAIE,QAAJ,EAAgB,aAAIA,QAAJ,CAAaJ,IAAb,CAAkBK,OAAlC,CAA4C,aAAID,QAAJ,CAAaJ,IAAb,CAAkBK,OAA9D,CAAsE,aAAIA,OAF7E,CAAD,CAAR,CAjB2B,uEAAN,sEAAtB","sourcesContent":["import axios from 'axios'\nimport * as actions from '../constants/orderConstants'\n\nexport const createOrder=(order)=>async (dispatch,getState)=>{\n    try{\n        dispatch({\n            type:actions.ORDER_CREATE_REQUEST\n        })\n        const {userLogin:{userInfo}}=getState()\n        const config={\n            headers:{\n                'Content-Type':'application/json',\n                Authorization:`Bearer ${userInfo.token}`\n            }\n        }\n        const {data}=await axios.post(`/api/orders`,order,config)\n        dispatch({\n            type:actions.ORDER_CREATE_SUCCESS,\n            payload:data\n        })\n    }catch(err){\n        dispatch({\n            type:actions.ORDER_CREATE_FAIL,\n            payload:err.response && err.response.data.message ? err.response.data.message:err.message,\n        })\n    }\n}\nexport const getOrderDetails=(id)=>async (dispatch,getState)=>{\n    try{\n        dispatch({\n            type:actions.ORDER_DETAILS_REQUEST\n        })\n        const {userLogin:{userInfo}}=getState()\n        const config={\n            headers:{\n                Authorization:`Bearer ${userInfo.token}`\n            }\n        }\n        const {data}=await axios.get(`/api/orders/${id}`,config)\n        dispatch({\n            type:actions.ORDER_DETAILS_SUCCESS,\n            payload:data\n        })\n    }catch(err){\n        dispatch({\n            type:actions.ORDER_DETAILS_FAIL,\n            payload:err.response && err.response.data.message ? err.response.data.message:err.message,\n        })\n    }\n}\n"]},"metadata":{},"sourceType":"module"}